<!DOCTYPE html>
<html lang="en" id="mainBody">
<head>
  <!-- Meta Properties -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <meta name="description" content="Diep3io">
  <meta name="robots" content="index, follow">
  <meta property="og:image:width" content="54">
  <meta property="og:image:height" content="54">
  <title>Diep3io</title>
  <!-- CSS -->
  <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">
  <script>
  var aiptag = aiptag || {};
  aiptag.cmd = aiptag.cmd || [];
  aiptag.cmd.display = aiptag.cmd.display || [];  aiptag.cmd.player = aiptag.cmd.player || [];
  aiptag.gdprShowConsentTool = true;
  </script>

  <!-- Favicons -->
  
  <link rel="manifest" href="/favicon/manifest.json">
  <meta name="theme-color" content="#8abc3f">
  <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="192x192"  href="">
 
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="">
    <meta name="theme-color" content="#ffffff">
</head>
<!-- https://discordapp.com/oauth2/authorize?client_id=427927499071160320&redirect_uri=http%3A%2F%2Farras.io%2Fcallback&response_type=code&scope=identify%20email -->
<body oncontextmenu="return false;" id="mainBody">
  <div id="gameAreaWrapper">
    <canvas id="gameCanvas" tabindex="1" id="cvs" tabindex="1"></canvas>
    <div id="respawn-banner" class="respawn-banner"><div id="arras-io_728x90"></div></div>
  </div>
  <div id="mainWrapper">
    <div id="startMenuWrapper">
      <div id="startMenu">
        <div id="linkHolder" class="startMenuHolder">
          <div id="bottomHolder">
            <!--<a style="background:#E0D571" href="https://discord.gg/k8ZFMUz">Dev Discord</a>-->
          <iframe src="https://discord.com/widget?id=711385423791783978&theme=dark" width="250" height="250" allowtransparency="true" frameborder="0"></iframe>
             Some links:
                      
             <a style="background:#7289DA" href="https://discord.gg/RwhHKJTKy4">Discord</a>
              <a style="background:linear-gradient(to bottom, cyan, yellow)" href="http://bordeaux.surge.sh/">Bordeaux.io</a>
              <a style="background:linear-gradient(to bottom, pink, Blue)" href="https://borty-arras.netlify.app/">Borty.io</a>
          <!--  <a style="background:#FA7664" href="https://www.patreon.com/arras">Patreon</a> --->
          </div>
        </div>
        <div class="startMenuHolder">
          <div class="sliderHolder">
            <div class="slider" id="startMenuSlidingContent">
              <center><img src= "http://arras.io/favicon/96x96.png">
              <h1>Diep3io</h1>
              <div class="serverSelector shadowScroll"><table><tbody id="serverSelector"></tbody></table></div>
              <input type="text" autofocus tabindex="1" spellcheck="false" placeholder="This is the tale of" id="playerNameInput" maxlength="24">
               <input type="text" class="conceal" tabindex="3" placeholder="Put a token here if your a beta tester!" id="playerKeyInput" maxlength="64" />  
                       
            </div>
           
            <div class="slider" id="startMenuSlidingTrigger">
              <h3 class="nopadding">
                <span id="viewOptionText">view options</span>&nbsp;&nbsp;<i class="arrow" id="optionArrow" style="transform:rotate(-45deg);-webkit-transform:rotate(-45deg)"></i>
              </h3>
            </div>
            <div class="slider" id="startMenuSlidingContent">
                <div class="controlTable optionsHeader">Advanced Controls <i id="resetControls" class="reset resetControls" title="Reset controls"></i><i id="moreControls" class="moreControls cross" title="More controls"></i></div>
                <table class="controlTable" id="controlTable">
                    <tbody>
                        <tr>
                            <td><div><b data-key="KEY_AUTO_FIRE">E</b><span> - </span>auto-fire</div></td>
                            <td><div><b data-key="KEY_AUTO_SPIN">C</b><span> - </span>auto-spin</div></td>
                            <td><div><b data-key="KEY_OVER_RIDE">R</b><span> - </span>disable AI</div></td>
                        </tr>
                        <tr>
                            <td><div><b data-key="KEY_LEVEL_UP">N</b><span> - </span>level up</div></td>
                            <td><div><b data-key="KEY_REVERSE_TANK">V</b><span> - </span>reverse tank</div></td>
                            <td><div><b data-key="KEY_REVERSE_MOUSE">B</b><span> - </span>reverse mouse</div></td>
                        </tr>
                        <tr>
                            <td><div><b data-key="KEY_SCREENSHOT">Q</b><span> - </span>screenshot</div></td>
                            <td><div><b data-key="KEY_UPGRADE_MAX">M</b><span> - </span>maximize stat</div></td>
                            <td><div><b data-key="KEY_CLASS_TREE">T</b><span> - </span>show class tree</div></td>
                        </tr>
                        <tr>
                            <td><div><b data-key="KEY_RECORD">Z</b><span> - </span>record video</div></td>

                            <td><div><b data-key="KEY_PING">L</b><span> - </span>show latency</div></td>
                        </tr>



                    </tbody>
                </table>
                <div class="optionsHeader">Options</div>
                <select id="optColors" tabindex="-1" onchange="document.getElementById('optCustom').style.display = this.value === 'custom' ? 'block' : 'none'" onfocus="document.getElementById('optCustom').style.display = this.value === 'custom' ? 'block' : 'none'">
                    <option value="public">Light Colors</option>
                    <option value="dark">Dark Colors</option>
                    <option value="arena">Arena Arras</option>
                    <option value="natural">Natural</option>
                    <option value="classic">Classic</option>
                    <option value="forest">Forest (Fan-made)</option>
                    <option value="midnight">Borderless</option>
                    <option value="pastel">Snow (Fan-made)</option>
                    <option value="ocean">Coral Reef (Fan-made)</option>
                    <option value="badlands">Badlands (Fan-made)</option>
                    <option value="bleach">Bleach (Fan-made)</option>
                    <option value="nebula">Nebula (Fan-made)</option>
                    <option value="space">Space (Fan-made)</option>
                    <option value="normal">Dexamenes</option>
                    <option value="custom">Custom</option>
                    <!-- <option value="Diepio2">Jacks Theme</option>  --->
                </select>
                <select id="optMobile" tabindex="-1">
                    <option value="desktop">Desktop</option>
                    <option value="joysticks">Mobile</option>
                </select>
                <select id="optBorders" tabindex="-1">
                    <option value="public">Soft Borders</option>
                    <option value="dark">Dark Borders</option>
                    <option value="neon">Neon Mode</option>
                    <option value="glass">Glass Mode</option>
                    <option value="???">New</option>
                </select>
                <input id="optCustom" style="display:none" placeholder="Enter your theme code here">
                <table>
                    <tr>
                        <td>
                            <div>
                                <label class="container"><input id="optScreenshotMode" tabindex="-1" class="checkbox" type="checkbox"><span class="checkmark"></span>Screenshot Mode</label>
                            </div>
                        </td>
                        <td>
                            <div>
                                <label class="container"><input id="optNoPointy" tabindex="-1" class="checkbox" type="checkbox"><span class="checkmark"></span>Classic Traps</label>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div>
                                <label class="container"><input id="optFancy" tabindex="-1" class="checkbox" type="checkbox"><span class="checkmark"></span>Low Graphics</label>
                            </div>
                        </td>
                        <td>
                            <div>
                                <label class="container"><input id="optShield" tabindex="-1" class="checkbox" type="checkbox"><span class="checkmark"></span>Separate Shield Bar</label>
                            </div>
                        </td>
                    </tr>
                    <tr>
                    </tr>
                </table>
                <div class="optionsHeader">More Links</div>
                <center>
                    <a tabindex="-1" href="https://glitch.com/edit/#!/arras-template?path=README.md">Private Server Template</a>
                    <br>
                    <a tabindex="-1" href="/custom-shape">Custom Shape Builder</a>
                    <br>
                    <a tabindex="-1" href="https://codepen.io/road-to-100k/full/MPyOeQ/">Road's Custom Theme Maker</a>
                    <br>
                    <a tabindex="-1" href="http://arras-proxy.surge.sh/">Proxy Server</a>
                    &nbsp;&nbsp;&nbsp;
                    <a tabindex="-1" href="https://arras-lb.glitch.me/donate">Donate via Stripe</a>
                </center>
            </div>
          </div>
          <div style="position: relative; bottom: -10px;">
            <button id="startButton" tabindex="2">Play</button>
          </div>
        </div>
        <div class="startMenuHolder shrinkable">
          <div class="changelogSelectorContainer">
          <div class="changelogSelector" id="changelogSelector">
            <span data-type="updates" class="active" title="All major updates">Updates</span>
            <span data-type="events" title="Major updates involving events or gamemodes">Events &amp; Gamemodes</span>
            <span data-type="balances" title="Every balance update, major or minor">Balance</span>
            <span data-type="changelog" title="Every single update">Changelog</span>
          </div>
          </div>
          <div id="patchNotes" class="updates"></div>
        </div>
      </div>
    </div>
  </div>
  <!-- JS -->
  <script>
  aiptag.cmd.display.push(function() { aipDisplayTag.display('arras-io_336x280'); });
  if (navigator.serviceWorker) {
    navigator.serviceWorker.register('/sw.js', { scope: '/' }).then(registration => console.log('Service Worker Registered'))
  }
  (function() {
    var clicked = 0
    var trigger = document.getElementById('startMenuSlidingTrigger')
    var optionArrow = document.getElementById('optionArrow')
    var viewOptionText = document.getElementById('viewOptionText')
    var sliderHolder = document.getElementsByClassName('sliderHolder')[0]
    var sliders = document.getElementsByClassName('slider')
    trigger.onclick = function() {
      clicked = 1 - clicked
      optionArrow.style.transform = optionArrow.style.webkitTransform = clicked ? 'rotate(45deg)' : 'rotate(-45deg)'
      viewOptionText.innerText = clicked ? 'close options' : 'view options'
      if (clicked) {
        sliderHolder.classList.add('slided')
      } else {
        sliderHolder.classList.remove('slided')
      }
      sliders[0].style.opacity = 1 - clicked
      sliders[2].style.opacity = clicked
    }
    /*
    var hostnames = ['https://public-arras.netlify.app']
    if (window !== window.top || hostnames.indexOf(window.location.hostname) === -1) {
      window.addEventListener('load', function() {
        document.write('<h1>You are on a framed version of public arras, the original game is at <a href="https://public-arras.netlify.app">https://public-arras.netlify.app/</a></h1>')
      })
      document.body.addEventListener('click', function() {
        window.top.location = 'https://public-arras.netlify.app'
      })
      window.top.location = 'https://public-arras.netlify.app'
    }
    */
    window.onerror = function(message, source, lineno, colno, error) {
      window.onerror = null
      if (error) error = error.toString()
      console.warn('The game crashed, refreshing page to recover from error')
      if (error == null && lineno == 0 && colno == 0) return
      var e = JSON.stringify({
        message: message,
        source: source,
        lineno: lineno,
        colno: colno,
        error: error
      })
      prompt('The game may have crashed, refreshing page to recover from error. Error information: ', e)
    }
  })()
  </script>
      <!-- ===================== Begin: Spaceball Shooter ========================== -->
      <script src="js/resources.js"></script>    
      <script src="js/sprite.js"></script>    
      <!-- ===================== End: Spaceball Shooter ========================== -->
  <script type="module" src="js/lib/fasttalk.js"></script>
  <script type="module" src="js/lib/global.js"></script>
  <script type="module" src="js/lib/util.js"></script>
  <script type="module" src="js/canvas.js"></script>
  <script type="module" src="/js/app.js"></script>
</body>
</html>
